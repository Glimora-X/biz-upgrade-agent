# ä¼˜åŒ–è¯´æ˜ - æ™ºèƒ½æ¨é€ç‰¹æ€§åˆ†æ”¯

## ğŸ› é—®é¢˜

å½“æ¨é€æ–°å»ºçš„ç‰¹æ€§åˆ†æ”¯æ—¶ï¼Œå¯èƒ½é‡åˆ°ä»¥ä¸‹é”™è¯¯ï¼š

```bash
git push origin upgrade/test-251219

To gitlab.rd.chanjet.com:cc_web/cc-front-biz-app-service-plus.git
 ! [rejected]            upgrade/test-251219 -> upgrade/test-251219 (non-fast-forward)
error: failed to push some refs to 'gitlab.rd.chanjet.com:cc_web/cc-front-biz-app-service-plus.git'
```

## ğŸ” é—®é¢˜åŸå› 

### åŸå› åˆ†æ

**é”™è¯¯ä¿¡æ¯**ï¼š`rejected ... (non-fast-forward)`

è¿™ä¸ªé”™è¯¯è¡¨ç¤ºï¼š
1. è¿œç¨‹ä»“åº“å·²ç»å­˜åœ¨åŒååˆ†æ”¯ `upgrade/test-251219`
2. æœ¬åœ°åˆ†æ”¯å’Œè¿œç¨‹åˆ†æ”¯çš„å†å²ä¸ä¸€è‡´
3. Git æ‹’ç»æ¨é€ä»¥é˜²æ­¢è¦†ç›–è¿œç¨‹æäº¤

### å¯èƒ½çš„åœºæ™¯

**åœºæ™¯ 1ï¼šä¹‹å‰æ¨é€è¿‡ï¼Œåæ¥é‡å»ºäº†åˆ†æ”¯**
```bash
# ç¬¬ä¸€æ¬¡
git checkout -b upgrade/test-251219
git commit ...
git push origin upgrade/test-251219  # âœ… æˆåŠŸ

# åæ¥åˆ é™¤å¹¶é‡æ–°åˆ›å»º
git branch -D upgrade/test-251219
git checkout -b upgrade/test-251219  # åŸºäºæ–°çš„æäº¤åˆ›å»º
git commit ...
git push origin upgrade/test-251219  # âŒ å¤±è´¥ï¼šnon-fast-forward
```

**åœºæ™¯ 2ï¼šå…¶ä»–äººæ¨é€äº†åŒååˆ†æ”¯**
```bash
# ä½ åˆ›å»ºåˆ†æ”¯
git checkout -b upgrade/test-251219
git commit ...

# åŒäº‹ä¹Ÿåˆ›å»ºäº†åŒååˆ†æ”¯å¹¶å…ˆæ¨é€
# åŒäº‹: git push origin upgrade/test-251219

# ä½ å°è¯•æ¨é€
git push origin upgrade/test-251219  # âŒ å¤±è´¥ï¼šnon-fast-forward
```

**åœºæ™¯ 3ï¼šæœ¬åœ°åˆ†æ”¯è¢«é‡ç½®**
```bash
git push origin upgrade/test-251219  # ç¬¬ä¸€æ¬¡æ¨é€æˆåŠŸ
git reset --hard HEAD~3               # é‡ç½®äº† 3 ä¸ªæäº¤
git commit ...                        # æ–°çš„æäº¤
git push origin upgrade/test-251219  # âŒ å¤±è´¥ï¼šnon-fast-forward
```

### åŸä»£ç é—®é¢˜

```typescript
// ç®€å•çš„æ¨é€å‘½ä»¤
{
  kind: 'command',
  title: `æ¨é€ç‰¹æ€§åˆ†æ”¯åˆ° origin/${featureBranch}`,
  command: `git push origin ${featureBranch}`,  // âŒ æ²¡æœ‰å¤„ç† non-fast-forward
},
```

**é—®é¢˜**ï¼š
1. æ²¡æœ‰ä½¿ç”¨ `-u` å‚æ•°è®¾ç½®ä¸Šæ¸¸åˆ†æ”¯
2. é‡åˆ° non-fast-forward é”™è¯¯æ—¶ç›´æ¥å¤±è´¥
3. æ²¡æœ‰æä¾›è§£å†³æ–¹æ¡ˆæˆ–é€‰é¡¹
4. ç”¨æˆ·ä¸çŸ¥é“å¦‚ä½•å¤„ç†

## âœ… è§£å†³æ–¹æ¡ˆ

### æ ¸å¿ƒç­–ç•¥

1. **ä½¿ç”¨ `-u` å‚æ•°**ï¼šç¬¬ä¸€æ¬¡æ¨é€æ—¶è®¾ç½®ä¸Šæ¸¸åˆ†æ”¯
2. **æ£€æµ‹ non-fast-forward é”™è¯¯**ï¼šå‹å¥½æç¤ºå¹¶æä¾›é€‰é¡¹
3. **æä¾›å¼ºåˆ¶æ¨é€é€‰é¡¹**ï¼šä½¿ç”¨ `--force-with-lease`ï¼ˆæ›´å®‰å…¨ï¼‰
4. **æä¾›å…¶ä»–é€‰é¡¹**ï¼šæ›´æ¢åˆ†æ”¯åæˆ–å–æ¶ˆ

### å®ç°ä»£ç 

```typescript
/**
 * æ¨é€ç‰¹æ€§åˆ†æ”¯
 */
private async pushFeatureBranch(featureBranch: string, cwd: string): Promise<void> {
  this.output.appendLine(`> git push -u origin ${featureBranch}`);
  
  try {
    // âœ… å°è¯•æ¨é€å¹¶è®¾ç½®ä¸Šæ¸¸åˆ†æ”¯
    const { stdout, stderr } = await execAsync(`git push -u origin ${featureBranch}`, { cwd });
    if (stdout) this.output.appendLine(stdout.trim());
    if (stderr) this.output.appendLine(stderr.trim());
    this.output.appendLine('âœ… ç‰¹æ€§åˆ†æ”¯æ¨é€æˆåŠŸ\n');
    
  } catch (error) {
    const err = error as { stderr?: string; stdout?: string; message: string };
    const merged = [err.stdout, err.stderr, err.message].filter(Boolean).join('\n');
    
    if (merged) this.output.appendLine(merged);
    
    // âœ… æ£€æµ‹æ˜¯å¦æ˜¯ non-fast-forward é”™è¯¯
    const isNonFastForward = /rejected.*non-fast-forward|rejected.*fetch first/i.test(merged);
    
    if (isNonFastForward) {
      this.output.appendLine('âš ï¸  æ¨é€å¤±è´¥ï¼šè¿œç¨‹åˆ†æ”¯å·²å­˜åœ¨ä¸”å†å²ä¸ä¸€è‡´');
      
      // âœ… æ˜¾ç¤ºå‹å¥½çš„é”™è¯¯æ¶ˆæ¯å’Œé€‰é¡¹
      const choice = await vscode.window.showWarningMessage(
        `æ¨é€ ${featureBranch} å¤±è´¥\n\nåŸå› ï¼šè¿œç¨‹åˆ†æ”¯å·²å­˜åœ¨ä¸”å†å²ä¸ä¸€è‡´\n\nå¯èƒ½çš„æƒ…å†µï¼š\nâ€¢ ä¹‹å‰æ¨é€è¿‡è¯¥åˆ†æ”¯ï¼Œåæ¥æœ¬åœ°åˆ†æ”¯è¢«é‡å»º\nâ€¢ å…¶ä»–äººæ¨é€äº†åŒååˆ†æ”¯\n\nå»ºè®®ï¼š\nâ€¢ å¼ºåˆ¶æ¨é€ä¼šè¦†ç›–è¿œç¨‹åˆ†æ”¯ï¼ˆè°¨æ…ä½¿ç”¨ï¼‰\nâ€¢ æˆ–è€…ä½¿ç”¨ä¸åŒçš„åˆ†æ”¯å`,
        { modal: true },
        'å¼ºåˆ¶æ¨é€ï¼ˆè¦†ç›–è¿œç¨‹ï¼‰',
        'å–æ¶ˆæ¨é€',
        'æ›´æ¢åˆ†æ”¯å'
      );
      
      if (choice === 'å¼ºåˆ¶æ¨é€ï¼ˆè¦†ç›–è¿œç¨‹ï¼‰') {
        // âœ… ä½¿ç”¨ --force-with-lease æ›´å®‰å…¨
        this.output.appendLine('âš ï¸  æ‰§è¡Œå¼ºåˆ¶æ¨é€...');
        this.output.appendLine(`> git push --force-with-lease origin ${featureBranch}`);
        
        const { stdout, stderr } = await execAsync(
          `git push --force-with-lease origin ${featureBranch}`, 
          { cwd }
        );
        this.output.appendLine('âœ… å¼ºåˆ¶æ¨é€æˆåŠŸ\n');
        
      } else if (choice === 'æ›´æ¢åˆ†æ”¯å') {
        throw new Error('ç”¨æˆ·é€‰æ‹©æ›´æ¢åˆ†æ”¯åï¼Œè¯·é‡æ–°è¿è¡Œå‡çº§æµç¨‹');
      } else {
        throw new Error('ç”¨æˆ·å–æ¶ˆæ¨é€ç‰¹æ€§åˆ†æ”¯');
      }
    } else {
      // å…¶ä»–æ¨é€é”™è¯¯
      throw error;
    }
  }
}
```

## ğŸ¨ ç”¨æˆ·ä½“éªŒ

### åœºæ™¯ï¼šæ¨é€å¤±è´¥ï¼ˆnon-fast-forwardï¼‰

```
æ‰§è¡Œæ¨é€
  â†“
git push -u origin upgrade/test-251219
  â†“
æ¨é€å¤±è´¥ âŒ
  â†“
è¾“å‡ºé¢‘é“æ˜¾ç¤ºé”™è¯¯ä¿¡æ¯ï¼š
âš ï¸  æ¨é€å¤±è´¥ï¼šè¿œç¨‹åˆ†æ”¯å·²å­˜åœ¨ä¸”å†å²ä¸ä¸€è‡´
  â†“
å¼¹å‡ºå¯¹è¯æ¡†ï¼š
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚ âš ï¸  æ¨é€ upgrade/test-251219 å¤±è´¥  â”‚
â”‚                                    â”‚
â”‚ åŸå› ï¼šè¿œç¨‹åˆ†æ”¯å·²å­˜åœ¨ä¸”å†å²ä¸ä¸€è‡´   â”‚
â”‚                                    â”‚
â”‚ å¯èƒ½çš„æƒ…å†µï¼š                       â”‚
â”‚ â€¢ ä¹‹å‰æ¨é€è¿‡è¯¥åˆ†æ”¯ï¼Œåæ¥æœ¬åœ°åˆ†æ”¯   â”‚
â”‚   è¢«é‡å»ºæˆ–é‡ç½®                     â”‚
â”‚ â€¢ å…¶ä»–äººæ¨é€äº†åŒååˆ†æ”¯             â”‚
â”‚                                    â”‚
â”‚ å»ºè®®ï¼š                             â”‚
â”‚ â€¢ å¼ºåˆ¶æ¨é€ä¼šè¦†ç›–è¿œç¨‹åˆ†æ”¯ï¼ˆè°¨æ…ï¼‰   â”‚
â”‚ â€¢ æˆ–è€…ä½¿ç”¨ä¸åŒçš„åˆ†æ”¯å             â”‚
â”‚                                    â”‚
â”‚ [å¼ºåˆ¶æ¨é€ï¼ˆè¦†ç›–è¿œç¨‹ï¼‰]             â”‚
â”‚ [å–æ¶ˆæ¨é€]                         â”‚
â”‚ [æ›´æ¢åˆ†æ”¯å]                       â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
```

### é€‰é¡¹è¯´æ˜

| é€‰é¡¹ | è¡Œä¸º | é€‚ç”¨åœºæ™¯ |
|------|------|---------|
| **å¼ºåˆ¶æ¨é€ï¼ˆè¦†ç›–è¿œç¨‹ï¼‰** | ä½¿ç”¨ `--force-with-lease` å¼ºåˆ¶æ¨é€ | ç¡®è®¤è¿œç¨‹åˆ†æ”¯å¯ä»¥è¢«è¦†ç›– |
| **å–æ¶ˆæ¨é€** | ç»ˆæ­¢æµç¨‹ | éœ€è¦æ£€æŸ¥ä¸ºä»€ä¹ˆä¼šå†²çª |
| **æ›´æ¢åˆ†æ”¯å** | ç»ˆæ­¢æµç¨‹ï¼Œæç¤ºé‡æ–°è¿è¡Œ | åˆ†æ”¯åè¢«å ç”¨ |

## ğŸ”’ å®‰å…¨æœºåˆ¶

### ä½¿ç”¨ `--force-with-lease` è€Œé `--force`

```bash
# âŒ å±é™©ï¼šå¼ºåˆ¶æ¨é€ï¼Œå¯èƒ½è¦†ç›–å…¶ä»–äººçš„æäº¤
git push --force origin branch-name

# âœ… æ›´å®‰å…¨ï¼šåªæœ‰åœ¨è¿œç¨‹åˆ†æ”¯æ²¡æœ‰æ–°æäº¤æ—¶æ‰å¼ºåˆ¶æ¨é€
git push --force-with-lease origin branch-name
```

**`--force-with-lease` çš„ä¿æŠ¤æœºåˆ¶**ï¼š
1. æ£€æŸ¥è¿œç¨‹åˆ†æ”¯çš„å½“å‰çŠ¶æ€
2. å¦‚æœè¿œç¨‹åˆ†æ”¯æœ‰æ–°çš„æäº¤ï¼ˆä½ ä¸çŸ¥é“çš„ï¼‰ï¼Œæ‹’ç»æ¨é€
3. åªæœ‰åœ¨è¿œç¨‹åˆ†æ”¯çŠ¶æ€ç¬¦åˆé¢„æœŸæ—¶æ‰æ¨é€

**ç¤ºä¾‹**ï¼š
```bash
# ä½ çš„æœ¬åœ°åˆ†æ”¯
A - B - C - D (upgrade/test-251219)

# è¿œç¨‹åˆ†æ”¯ï¼ˆä½ ä¸Šæ¬¡æ‹‰å–æ—¶ï¼‰
A - B - C (origin/upgrade/test-251219)

# æƒ…å†µ 1ï¼šè¿œç¨‹æ²¡æœ‰æ–°æäº¤
git push --force-with-lease origin upgrade/test-251219
# âœ… æˆåŠŸï¼šè¿œç¨‹æ›´æ–°ä¸º A - B - C - D

# æƒ…å†µ 2ï¼šè¿œç¨‹æœ‰æ–°æäº¤ï¼ˆåŒäº‹æ¨é€äº† Eï¼‰
A - B - C - E (origin/upgrade/test-251219)

git push --force-with-lease origin upgrade/test-251219
# âŒ å¤±è´¥ï¼šæ£€æµ‹åˆ°è¿œç¨‹æœ‰æ–°æäº¤ E
# ä¿æŠ¤äº†åŒäº‹çš„å·¥ä½œ
```

## ğŸ“Š å¯¹æ¯”

### ä¼˜åŒ–å‰

```
æ¨é€å¤±è´¥
  â†“
æ˜¾ç¤º Git åŸå§‹é”™è¯¯
  â†“
æµç¨‹ç»ˆæ­¢ âŒ
  â†“
ç”¨æˆ·ä¸çŸ¥é“å¦‚ä½•å¤„ç† âŒ
```

### ä¼˜åŒ–å

```
æ¨é€å¤±è´¥
  â†“
æ£€æµ‹åˆ° non-fast-forward
  â†“
æ˜¾ç¤ºå‹å¥½çš„é”™è¯¯è¯´æ˜
  â†“
æä¾› 3 ä¸ªé€‰é¡¹ï¼š
  â€¢ å¼ºåˆ¶æ¨é€ï¼ˆå®‰å…¨çš„ï¼‰
  â€¢ å–æ¶ˆæ¨é€
  â€¢ æ›´æ¢åˆ†æ”¯å
  â†“
ç”¨æˆ·åšå‡ºé€‰æ‹©
  â†“
æ ¹æ®é€‰æ‹©æ‰§è¡Œç›¸åº”æ“ä½œ âœ…
```

## ğŸ”§ æŠ€æœ¯ç»†èŠ‚

### ä½¿ç”¨ `-u` å‚æ•°

```bash
# ç¬¬ä¸€æ¬¡æ¨é€ï¼Œè®¾ç½®ä¸Šæ¸¸åˆ†æ”¯
git push -u origin upgrade/test-251219

# ä¹‹åå¯ä»¥ç›´æ¥ä½¿ç”¨
git push
git pull
```

**å¥½å¤„**ï¼š
- è®¾ç½®ä¸Šæ¸¸åˆ†æ”¯å…³è”
- åç»­å¯ä»¥ç›´æ¥ä½¿ç”¨ `git push` / `git pull`
- æ˜¾ç¤ºæ›´æ¸…æ™°çš„æ¨é€ä¿¡æ¯

### é”™è¯¯æ£€æµ‹

```typescript
const isNonFastForward = /rejected.*non-fast-forward|rejected.*fetch first/i.test(merged);
```

**åŒ¹é…æ¨¡å¼**ï¼š
- `rejected ... non-fast-forward`ï¼šæ ‡å‡†çš„ non-fast-forward é”™è¯¯
- `rejected ... fetch first`ï¼šGit å»ºè®®å…ˆ fetch

### é”™è¯¯æ¶ˆæ¯è§£æ

```typescript
const err = error as { stderr?: string; stdout?: string; message: string };
const merged = [err.stdout, err.stderr, err.message].filter(Boolean).join('\n');
```

**åŸå› **ï¼š
- Git é”™è¯¯ä¿¡æ¯å¯èƒ½åœ¨ `stderr`ã€`stdout` æˆ– `message` ä¸­
- åˆå¹¶æ‰€æœ‰ä¿¡æ¯è¿›è¡Œæ£€æµ‹

## âœ… ä¼˜åŒ–æ¸…å•

- [x] âœ… ä½¿ç”¨ `git push -u` è®¾ç½®ä¸Šæ¸¸åˆ†æ”¯
- [x] âœ… æ£€æµ‹ non-fast-forward é”™è¯¯
- [x] âœ… æ˜¾ç¤ºå‹å¥½çš„é”™è¯¯æ¶ˆæ¯
- [x] âœ… æä¾›å¼ºåˆ¶æ¨é€é€‰é¡¹
- [x] âœ… ä½¿ç”¨ `--force-with-lease` ä¿æŠ¤å®‰å…¨
- [x] âœ… æä¾›æ›´æ¢åˆ†æ”¯åé€‰é¡¹
- [x] âœ… æä¾›å–æ¶ˆæ¨é€é€‰é¡¹
- [x] âœ… ç¼–è¯‘é€šè¿‡
- [x] âœ… ä¼˜åŒ–è¯´æ˜æ–‡æ¡£

## ğŸ§ª æµ‹è¯•éªŒè¯

### æµ‹è¯•æ­¥éª¤

1. **é‡æ–°åŠ è½½çª—å£**
   ```
   Cmd+Shift+P â†’ Reload Window
   ```

2. **è¿è¡Œå¿«é€Ÿå‡çº§**
   ```
   Cmd+Shift+P â†’ Biz Migration: å¿«é€Ÿå‡çº§ï¼ˆTest/Inte ç¯å¢ƒï¼‰
   ```

3. **æ¨¡æ‹Ÿ non-fast-forward åœºæ™¯**
   
   **æ–¹å¼ 1ï¼šé‡å»ºåˆ†æ”¯**
   ```bash
   # ç¬¬ä¸€æ¬¡æ¨é€
   git checkout -b upgrade/test-251219
   git commit ...
   git push origin upgrade/test-251219
   
   # åˆ é™¤å¹¶é‡å»º
   git branch -D upgrade/test-251219
   git checkout -b upgrade/test-251219
   # è¿è¡Œå‡çº§æµç¨‹ï¼Œä¼šé‡åˆ° non-fast-forward
   ```
   
   **æ–¹å¼ 2ï¼šæ‰‹åŠ¨åˆ›å»ºè¿œç¨‹åˆ†æ”¯**
   ```bash
   # åœ¨å¦ä¸€ä¸ªä»“åº“å…‹éš†ä¸­
   git checkout -b upgrade/test-251219
   git commit --allow-empty -m "test"
   git push origin upgrade/test-251219
   
   # åœ¨åŸä»“åº“è¿è¡Œå‡çº§æµç¨‹ï¼Œä¼šé‡åˆ° non-fast-forward
   ```

4. **æµ‹è¯•å¼ºåˆ¶æ¨é€**
   - é‡åˆ° non-fast-forward é”™è¯¯
   - é€‰æ‹©"å¼ºåˆ¶æ¨é€ï¼ˆè¦†ç›–è¿œç¨‹ï¼‰"
   - âœ… åº”è¯¥æˆåŠŸæ¨é€
   - âœ… ä½¿ç”¨ `--force-with-lease`
   - âœ… æµç¨‹ç»§ç»­

5. **æµ‹è¯•å–æ¶ˆæ¨é€**
   - é‡åˆ° non-fast-forward é”™è¯¯
   - é€‰æ‹©"å–æ¶ˆæ¨é€"
   - âœ… æµç¨‹åº”è¯¥ç»ˆæ­¢
   - âœ… æ˜¾ç¤ºå‹å¥½çš„é”™è¯¯æ¶ˆæ¯

6. **æµ‹è¯•æ›´æ¢åˆ†æ”¯å**
   - é‡åˆ° non-fast-forward é”™è¯¯
   - é€‰æ‹©"æ›´æ¢åˆ†æ”¯å"
   - âœ… æµç¨‹åº”è¯¥ç»ˆæ­¢
   - âœ… æç¤ºé‡æ–°è¿è¡Œ

### é¢„æœŸç»“æœ

```
âœ… æ¨é€æˆåŠŸæ—¶ï¼Œæ­£å¸¸æ˜¾ç¤ºæˆåŠŸæ¶ˆæ¯
âœ… é‡åˆ° non-fast-forward æ—¶ï¼Œæ˜¾ç¤ºå‹å¥½å¯¹è¯æ¡†
âœ… å¯¹è¯æ¡†è¯´æ˜äº†é—®é¢˜åŸå› å’Œå¯èƒ½çš„æƒ…å†µ
âœ… æä¾›äº† 3 ä¸ªæ˜ç¡®çš„é€‰é¡¹
âœ… é€‰æ‹©"å¼ºåˆ¶æ¨é€"åæˆåŠŸæ¨é€
âœ… ä½¿ç”¨äº† --force-with-lease ä¿è¯å®‰å…¨
âœ… é€‰æ‹©"å–æ¶ˆ"æˆ–"æ›´æ¢åˆ†æ”¯å"åæµç¨‹ç»ˆæ­¢
âœ… è¾“å‡ºé¢‘é“è®°å½•äº†è¯¦ç»†ä¿¡æ¯
```

## ğŸ’¡ ä½¿ç”¨å»ºè®®

### ä½•æ—¶ä½¿ç”¨å¼ºåˆ¶æ¨é€

**å¯ä»¥ä½¿ç”¨**ï¼š
- âœ… ä½ æ˜¯å”¯ä¸€åœ¨è¿™ä¸ªåˆ†æ”¯ä¸Šå·¥ä½œçš„äºº
- âœ… ç¡®è®¤è¿œç¨‹åˆ†æ”¯å¯ä»¥è¢«è¦†ç›–
- âœ… æ˜¯ä½ è‡ªå·±ä¹‹å‰æ¨é€çš„åˆ†æ”¯
- âœ… é‡å»ºäº†åˆ†æ”¯éœ€è¦è¦†ç›–æ—§ç‰ˆæœ¬

**ä¸åº”ä½¿ç”¨**ï¼š
- âŒ å…¶ä»–äººä¹Ÿåœ¨ä½¿ç”¨è¿™ä¸ªåˆ†æ”¯
- âŒ ä¸ç¡®å®šè¿œç¨‹åˆ†æ”¯çš„çŠ¶æ€
- âŒ è¿œç¨‹åˆ†æ”¯æœ‰é‡è¦çš„æäº¤
- âŒ åˆ†æ”¯åè¢«å›¢é˜Ÿå…¶ä»–äººå ç”¨

### å¦‚ä½•é¿å… non-fast-forward

1. **ä½¿ç”¨å”¯ä¸€çš„åˆ†æ”¯å**
   ```
   upgrade/test-251219-yourname
   upgrade/test-251219-v2
   ```

2. **æ¨é€å‰å…ˆæ‹‰å–**
   ```bash
   git pull origin upgrade/test-251219
   git push origin upgrade/test-251219
   ```

3. **åˆ é™¤è¿œç¨‹æ—§åˆ†æ”¯**
   ```bash
   git push origin --delete upgrade/test-251219
   git push -u origin upgrade/test-251219
   ```

### ä½¿ç”¨ `--force-with-lease` çš„æœ€ä½³å®è·µ

```bash
# âœ… æ¨èï¼šå…ˆæ‹‰å–ï¼Œäº†è§£è¿œç¨‹çŠ¶æ€
git fetch origin
git push --force-with-lease origin branch-name

# âŒ ä¸æ¨èï¼šç›´æ¥ä½¿ç”¨ --force
git push --force origin branch-name
```

## ğŸ‰ å®Œæˆ

ç°åœ¨ï¼š
- âœ… æ¨é€ç‰¹æ€§åˆ†æ”¯æ—¶ä½¿ç”¨ `-u` å‚æ•°
- âœ… å‹å¥½å¤„ç† non-fast-forward é”™è¯¯
- âœ… æä¾›å¼ºåˆ¶æ¨é€é€‰é¡¹ï¼ˆå®‰å…¨çš„ï¼‰
- âœ… æä¾›æ›´æ¢åˆ†æ”¯åå’Œå–æ¶ˆé€‰é¡¹
- âœ… ç”¨æˆ·ä½“éªŒæ›´å¥½ï¼Œä¸ä¼šå¡åœ¨æ¨é€å¤±è´¥

**è¯·é‡æ–°åŠ è½½çª—å£å¹¶æµ‹è¯•ï¼** ğŸš€

---

*ä¼˜åŒ–æ—¶é—´: 2024-12-19*
*ä¼˜åŒ–å†…å®¹: æ™ºèƒ½æ¨é€ç‰¹æ€§åˆ†æ”¯ï¼Œå¤„ç† non-fast-forward é”™è¯¯*
*ç›¸å…³æ–¹æ³•: pushFeatureBranch()*

